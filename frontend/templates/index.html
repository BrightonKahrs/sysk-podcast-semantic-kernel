<!DOCTYPE html>
<html>
<head>
    <title>SYSK AI Chat</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
</head>
<body>
    <div class="sidebar">
        <form method="post" action="/reset">
            <button type="submit">ðŸ—˜ New Chat</button>
        </form>
    </div>

    <div class="main">
        <h1>STUFF YOU SHOULD KNOW</h1>
        <div class="divider"></div>
        <h2>PODCAST AI</h2>
        <div class="spacer"></div>

        <div class="chat-history" id="chat-history">
            {% for msg in conversation %}
                <div class="message {{ msg.role }}">
                    <strong>{{ msg.role.title() }}:</strong> {{ msg.content }}
                </div>
            {% endfor %}
            <div id="loading-spinner" style="display: none;">
                <div class="spinner-animation"></div>
                <div class="spinner-label"></div>
            </div>
        </div>

        <form id="chat-form">
            <input type="text" id="prompt-input" autocomplete="off" />
            <button type="submit">Send</button>
        </form>

    </div>

    <!-- <style>
        #loading-spinner {
            background: yellow;
            padding: 10px;
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #333;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 10px;
        }

        @keyframes spin {
            0%   { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style> -->
    <script src="{{ url_for('static', filename='js/chat.js') }}"></script>
    <script src="{{ url_for('static', filename='js/websocket_spinner.js') }}"></script>
</body>
</html>
